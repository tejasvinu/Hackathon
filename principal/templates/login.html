<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>Login In</title>
    <!-- MDB icon -->
    
    <!-- Font Awesome -->
    <!-- Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
    
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css" />
    <!-- Google Fonts Roboto -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap"
    />
    <!-- MDB -->
    <!-- <link rel="stylesheet" href="http://localhost:5000/css/mdb.min.css" /> -->
  </head>
  <body>
    <!-- Start your project here-->
    <nav class="topnav navbar navbar-dark bg-dark justify-content-between" style="padding-left: 2%;" >
    <a class="navbar-brand"><h1>Find<span style="color: #198754;">Me</span></h1></a>
    <!-- <a style="text-decoration: none; color: white; margin-right: 3%;" href="{% url 'Register' %}" class="link-info"><button class="btn btn-outline-success" type="submit" >Sign up</button></a> -->
    <a style="text-decoration: none; background-color: #198754 ; color: white; margin-right: 3%; width: 7%; height: 5%;" href="{% url 'Register' %}" class="link-info text-center"><button class="btn" style="color: white; width: fit-content;" type="submit" >Register</button></a>

    </nav>
    {% if messages %}
    <div style="width:500px; background-color: #eee; margin-left: 34%; margin-top: 0.5%;">
        {% for message in messages %}
          <div class="alert alert-info width-50 align-items-center for-alert p-0" role="alert">
            <p class="text-center text-lg" data-dismiss="alert">{{ message }}</p>
          </div>
        {% endfor %}
    </div>
    {% endif %}
    
    <section class="vh-100" style="background-color: #eee;">
      {% if message %}
    <div style="width:500px; background-color: #eee; margin-left: 34%;">
          <div class="alert alert-info width-50 align-items-center for-alert p-0" role="alert">
            <p class="text-center text-lg" data-dismiss="alert">{{ message }}</p>
          </div>
    </div>
    {% endif %}
        <div class="container h-100" style="height: 60%; margin-top: -5%;">
          <div class="row d-flex justify-content-center align-items-center h-100">
              <div class="card text-black " style="border-radius: 25px; height: fit-content;  width: 55%;">
                  <div class="row justify-content-center" style="padding: 2%;">
                    
                      <p class="text-center h1 fw-bold ">Login</p>
                      <form action="{% url 'login' %}" method="post" id="login" class="" >
                      {% csrf_token %}
                        <div class="d-flex flex-row align-items-center " style="width: 90%; padding: 4%;">
                          <i class="fas fa-envelope fa-lg me-3 fa-fw"></i>
                          <div class="form-outline flex-fill mb-0" >
                            <label id="Email" class="form-label" for="form3Example3c"><h5>Your Email</h5></label>
                            <input id="Email" type="email" name="email" class="form-control" style="width: 100%;" required/>
                          </div>
                        </div>
      
                        <div class="d-flex flex-row align-items-center mb-4" style="width: 90%; padding: 4%;"> 
                          <i class="fas fa-lock fa-lg me-3 fa-fw"></i>
                          <div class="form-outline flex-fill mb-0">
                            <label  class="form-label" for="form3Example4c"><h5>Password</h5></label>
                            <input name="password" type="password" id="Password" class="form-control" style="width: 100%;" required/>
                          </div>
                        </div>
      
                        <!-- <div class="pt-1 mb-4">
                            <button class="btn btn-info btn-lg btn-block" type="button">Login</button>
                          </div> -->
                        <div class="d-flex justify-content-center">
                            <input type="submit" value="Login" class="btn btn-primary btn-lg bg-dark" style="width: 20%; padding: 1%;">
                        </div>
              
                          <p style="margin-left: 4%;"><a class="text-muted" href="#!">Forgot password?</a></p>
                          <p style="margin-left: 4%;">Don't have an account? <a href="{% url 'Register' %}" class="link-info">Register here</a></p>
                      </form>
                    <!-- <div class="col-md-10 col-lg-6 col-xl-7 d-flex align-items-center order-1 order-lg-2">
                      <img src="https://mdbootstrap.com/img/Photos/new-templates/bootstrap-registration/draw1.png" class="img-fluid" alt="Sample image">
                    </div> -->
                  </div>
                </div>
          </div>
        </div>
      </section>
    <!-- End your project here-->

    <!-- MDB -->
    <!-- <script type="text/javascript" src="/js/mdb.min.js"></script> -->
    <!-- Custom scripts -->
    <!-- <script>
			const form = document.getElementById('login')
			form.addEventListener('submit', login)

			async function login(event) {
				event.preventDefault()
				const email = document.getElementById('Email').value
				const password = document.getElementById('Password').value

				const result = await fetch('/api/login', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/json'
					},
					body: JSON.stringify({
						email,
						password
					})
				}).then((res) => res.json())

				if (result.status === 'ok') {
					// everythign went fine
					console.log('Got the token: ', result.data)
					localStorage.setItem('token', result.data)
					alert('Success')
          window.location.href = "/templates/main.html";
				} else {
					alert(result.error)
				}
			}
		</script> -->
  </body>
</html>
